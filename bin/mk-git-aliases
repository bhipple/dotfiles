#!/usr/bin/env bash
set -euxo pipefail

tgt=$HOME/dotfiles/zsh/git_aliases.zsh

echo "# Generated by ../bin/mk-git-aliases; do not edit" > $tgt
git la | grep -Ev '^g' | cut -d'=' -f1 | grep -v '-' | xargs -I{} echo 'alias g{}="git {}"' | tee -a $tgt

echo 'alias gg="git grep"' | tee -a $tgt
echo 'alias ggi="git grep -i"' | tee -a $tgt
echo 'alias gprs="git prs"' | tee -a $tgt
echo 'alias grf="git rf"' | tee -a $tgt

for c in $(git --help -a | grep '^   [a-z]' | awk '{print $1}'); do
    echo "alias g$c=\"git $c\"" | tee -a $tgt
done
